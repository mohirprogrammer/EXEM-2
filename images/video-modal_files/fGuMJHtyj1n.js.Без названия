;/*FB_PKG_DELIM*/

__d("MFeedErrorDetection",["Banzai","DataAttributeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h={};function i(a,b,d,e){a={event:a,shouldLogDetail:b,site:"mtouch"};b&&(a.intValues=d,a.normalValues=e);c("Banzai").post("feed_error_detection",a,{delay:0})}function a(a){var b=a.feedObjectElement;a=a.shouldLogDetail;if(!b)return;var d=c("DataAttributeUtils").getDataFt(b);b=b.getAttribute("data-dedupekey");if(!b||!d)return;if(h[b]){var e;a&&(e={dedupKey:b,ft_A:d,ft_B:h[b]});i("mtouch_duplicate_stories",a,{},{dup_field:e||{}})}else h[b]=d}g.registerFeedStory=a}),98);
__d("LoggedOutLoginSignupBarTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:LoggedOutLoginSignupBarLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setIsPrimaryCtaReg=function(a){this.$1.is_primary_cta_reg=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};return a}();c={event:!0,is_primary_cta_reg:!0,surface:!0};f["default"]=a}),66);
__d("MPopupSmallCta",["Event","LoggedOutLoginSignupBarTypedLogger","MAnimator","MViewport","Run","Style","clearTimeout","ge","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=150,h=1e3,i=214;a={show:function(a,c,d,e){this._expandingCta=a,this._ctaUnit=c,this._closeIcon=d,this._ctaVisible=!1,this._ctaShownOnce=!1,this._ctaClosed=!1,this._referrerSurface=e,b("Run").onAfterLoad(this._init.bind(this))},_init:function(){var a=this,c,d=(c=b("ge"))("header"),e=c("header-notices"),f=c("mobile_login_bar");c=c("account_switcher_footer");this._scrollThreshold=0;this._height=i;if(d){b("Style").set(d,"z-index","0");d=d.clientHeight;d&&(this._scrollThreshold+=d)}if(e){b("Style").set(e,"z-index","0");d=e.clientHeight;d&&(this._scrollThreshold+=d)}if(f){e=f.clientHeight;e&&(this._scrollThreshold+=e,this._height=e)}if(c){d=c.clientHeight;d&&(this._scrollThreshold+=d,this._height=d)}b("setInterval")(this._updateCTA.bind(this),h);b("Event").listen(this._closeIcon,"click",function(){a._ctaClosed=!0,a._hideCTA()})},_hideCTA:function(){var a=this,c=this._expandingCta.clientHeight;b("MAnimator").play(c,0,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!1;b("clearTimeout")(this._timerId)},_showCTA:function(){var a=this;if(this._ctaVisible)return;new(b("LoggedOutLoginSignupBarTypedLogger"))().setEvent("login_signup_bar_load").setSurface(this._referrerSurface).log();b("Style").set(this._ctaUnit,"margin-top","0px");b("Style").set(this._expandingCta,"background","none");b("MAnimator").play(0,this._height,g,function(c){return b("Style").set(a._expandingCta,"height",Math.round(c)+"px")});this._ctaVisible=!0;this._ctaShownOnce=!0;b("clearTimeout")(this._timerId)},_updateCTA:function(){var a=b("MViewport").getHeight();if(a<this._height)if(this._ctaVisible)this._hideCTA();else return;a=this._scrollThreshold;!this._ctaVisible&&!this._ctaClosed&&b("MViewport").getScrollTop()>a&&this._showCTA();this._ctaVisible&&b("MViewport").getScrollTop()<a&&this._hideCTA()}};e.exports=a}),null);
__d("MTimelineCTRLogger",["BanzaiLogger","MLegacyDataStore","Stratcom"],(function(a,b,c,d,e,f,g){var h="timeline-ctr-logger";c("Stratcom").listen("click",h,function(a){a=d("MLegacyDataStore").get(a.getNode(h));c("BanzaiLogger").log(a.config,a.data)});a={};g["default"]=a}),98);
__d("FeedbackReactionIDToTypeNumber",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({1635855486666999:1,1678524932434102:2,478547315650144:3,115940658764963:4,1667835766830853:5,1501783253447867:6,908563459236466:7,444813342392137:8,1536130110011063:10,1663186627268800:11,899779720071651:12,869508936487422:13,938644726258608:14,1609920819308489:15,613557422527858:16,1038933380267464:18,156697673289272:19});function a(a){if(a in g)return g[a];else return 17}f["default"]=a}),66);
__d("MReactionsBlingBar",["cx","fbt","FeedbackReactionIDToTypeNumber","MLiveData","MViewport","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","URI","createIxElement","joinClasses"],(function(a,b,c,d,e,f,g,h){var i;b("UFIReactionTypes").ordering.unshift(17);var j=b("UFIReactionTypes").ordering.reduce(function(a,b,c){a[b]=c;return a},{}),k=function(){"use strict";function a(a){var c=a.elements;this.container=c.container;this.isPermalink=a.isPermalink;this.requestID=a.requestID;this.separateCommentsLink=a.separateCommentsLink;this.uri=new(i||(i=b("URI")))(a.uri);this.shouldAnchor=a.shouldAnchor;this.feedbackTarget=b("MLiveData").get(a.feedbackTargetID);this.isDarkMode=a.isDarkMode;this.darkModeLinks=a.darkModeLinks;this.subscriptions=new(b("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)));this.isPermalink&&this.shouldAnchor&&(a.isPageletified?this.anchorOnPageLoad():(this.pageLoadListener=b("Stratcom").listen(["m:page:render:complete"],null,this.anchorOnPageLoad.bind(this)),this.subscriptions.addSubscriptions(this.pageLoadListener)))}var c=a.prototype;c.onChange=function(){var a=this.feedbackTarget.getData(),c=a.reactioncountmap,d=a.reactioncountmapbyid,e=a.reactiondisplaystrategy,f=a.request_id,g=a.ufireactioniconsbyid;e=e==="use_reaction_sheet_string_only"||e==="hide_counts";if(f===this.requestID||!c)return;f=Object.keys(d).filter(function(a){a=d[a];return a&&a["default"]>0}).sort(function(a,c){var e=d[a]["default"],f=d[c]["default"];return e===f?j[b("FeedbackReactionIDToTypeNumber")(a)]-j[b("FeedbackReactionIDToTypeNumber")(c)]:f-e}).slice(0,3).map(function(a,c){var d=document.createElement("div");d.className=b("joinClasses")("_1g05","_77lc");d.style.zIndex=3-c;b("FeedbackReactionIDToTypeNumber")(a)===17?d.appendChild(b("createIxElement")(g[a][16])):d.appendChild(b("createIxElement")(b("UFIReactionIcons")[b("FeedbackReactionIDToTypeNumber")(a)][16]));return d});c=f.reduce(function(a,b){a.appendChild(b);return a},document.createElement("span"));c.className="_qfz";f=document.createElement("div");f.className="_1w1k"+(e?" _8l2a":"");if(this.separateCommentsLink){var i=document.createElement("a");this.uri.addQueryData("anchor_composer","false");i.href=this.uri;i.appendChild(c);f.appendChild(i)}else f.appendChild(c);i=a.comment_count;c=a.share_count;var k=a.reactionsentences.current&&a.reactionsentences.current.text,l=document.createElement("div");l.className="_1g06";l.setAttribute("aria-label",h._("{count} \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043e\u0442\u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043b\u0438",[h._param("count",k)]));l.textContent=k;if(this.isDarkMode){var m=document.createElement("a");m.href=this.darkModeLinks.likesLink;m.className="_8gqh";m.appendChild(l);f.appendChild(m)}else f.appendChild(l);m=this.container;l=document.createElement("div");l.className="_1fnt"+(e?" _8l2b":"");if(this.isDarkMode){e=document.createElement("a");e.className="_8gqh _1fnt";e.href=this.darkModeLinks.commentsLink;l=l.appendChild(e)}if(!this.isPermalink){if(i>0){e=document.createElement("span");e.className="_1j-c"+(this.separateCommentsLink?" _6hyu":"");e.textContent=i===1?h._("1 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"):h._("{count} \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",[h._param("count",a.reduced_comment_count)]);if(this.separateCommentsLink){var n=document.createElement("a");this.uri.addQueryData("anchor_composer","true");n.href=this.uri;n.appendChild(e);l.appendChild(n)}else l.appendChild(e)}if(c>0){n=document.createElement("span");n.className="_1j-c";n.textContent=c===1?h._("1 \u0440\u0435\u043f\u043e\u0441\u0442"):h._("{count} \u0440\u0435\u043f\u043e\u0441\u0442\u043e\u0432",[h._param("count",a.reduced_share_count)]);l.appendChild(n)}}while(m.hasChildNodes())m.removeChild(m.firstChild);if(k||i||c){e=document.createDocumentFragment();e.appendChild(f);e.appendChild(l);m.appendChild(e)}};c.onUnload=function(){this.subscriptions.release(),this.subscriptions=null};c.anchorOnPageLoad=function(){b("MViewport").scrollToNode(this.container)};return a}();e.exports={init:function(a){new k(a)}}}),null);
__d("SaveState",[],(function(a,b,c,d,e,f){a="saving";b="saved";c="unsaving";d="unsaved";f.SAVING=a;f.SAVED=b;f.UNSAVING=c;f.UNSAVED=d}),66);
__d("SaveStateHandler",["SaveState"],(function(a,b,c,d,e,f,g){var h=null;a=function(){function a(){this.$1={},this.$2={}}var b=a.prototype;b.addListener=function(a,b){this.$1[a]||(this.$1[a]=[]),this.$1[a].push(b)};b.setState=function(a,b){var c=this;a.forEach(function(a){c.$2[a]=b;if(!c.$1[a])return;a=c.$1[a];a.forEach(function(a){try{a.call(window,b)}catch(a){}})})};b.getState=function(a){return this.$2[a]};a.$3=function(){h||(h=new a());return h};a.listen=function(a,b){this.$3().addListener(a,b)};a.getState=function(a){return this.$3().getState(a)};a.saving=function(a){this.$3().setState(a,d("SaveState").SAVING)};a.saved=function(a){this.$3().setState(a,d("SaveState").SAVED)};a.unsaving=function(a){this.$3().setState(a,d("SaveState").UNSAVING)};a.unsaved=function(a){this.$3().setState(a,d("SaveState").UNSAVED)};a.isSaveAction=function(a){a=this.$3().getState(a);return a==d("SaveState").UNSAVED||a==d("SaveState").UNSAVING};a.isInTransition=function(a){a=this.$3().getState(a);return a==d("SaveState").SAVING||a==d("SaveState").UNSAVING};return a}();g["default"]=a}),98);
__d("MActionBubbleHelper",["cx","CSS","ODS","Stratcom"],(function(a,b,c,d,e,f,g,h){var i="enabled_action";function a(a,b,e,f){d("ODS").bumpEntityKey(2966,"rrsurfaces","action_bubble.toggle_action."+String(b)+"."+e+"."+f),c("CSS").conditionClass(a,"_58a0",b),b?c("Stratcom").addSigil(a,i):c("Stratcom").removeSigil(a,i)}g.toggleActionBubbleItem=a}),98);
__d("MCommentActionsFlyout",["cx","Bootloader","CSS","DOM","MActionBubbleHelper","MLegacyDataStore","MModalDialog","MParent","MRequest","Stratcom","URI"],(function(a,b,c,d,e,f,g,h){var i="ban_user_from_page_comment_sigil",j="editCommentSigil",k="editHistoryCommentSigil",l="deleteCommentSigil",m="deleteCommentAndBlockAuthorSigil",n="deleteCommentAndRemoveAuthorSigil",o="hideCommentSigil",p="muteMemberSigil",q="reportCommentSigil",r="commentFlyoutSigil",s="removeTagSigil",t=!1;function u(a,b,c){a=d("DOM").find(a,"*",b);d("MActionBubbleHelper").toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function v(a,b,e){var f=d("DOM").find(a,"*",b),g=!!e.groupMuteCommenterInfo;d("MActionBubbleHelper").toggleActionBubbleItem(f,g,"MCommentActionsFlyout",b);if(g&&b===p){f=d("DOM").scry(a,"*",b)[0];c("CSS").conditionClass(f,"_4ob2",!e.groupMuteCommenterInfo.is_commenter_muted)}}function w(a){a=d("MParent").bySigil(a,"comment-metadata");return a}function x(a,b){b=d("MLegacyDataStore").get(b);a.addQueryData("_ft_",b.linkdata)}function y(a,b){x(b,a);a=new(c("MRequest"))(b);a.send()}function z(a,b,c){d("MModalDialog").open(b,c)}function A(){var a=w(this.getCausalElement()),b=this.getRoot();if(a==null)return;a=d("MLegacyDataStore").get(a);u(b,j,!!a.editCommentURI);u(b,k,!!a.editHistoryCommentURI);u(b,l,!!a.deleteCommentURI);u(b,m,!!a.deleteCommentAndBlockAuthorURI);u(b,n,!!a.deleteCommentAndRemoveAuthorURI);u(b,o,!!a.hideCommentURI);v(b,p,a);u(b,q,!!a.reportCommentURI);u(b,i,!!a.banUserFromPageURIParams&&!t);u(b,s,!!a.removeTagURI&&B())}function B(){return!1}function C(a){var b=d("MLegacyDataStore").get(a.getNode(r)),e=w(b.layer.getCausalElement());if(e==null)return;var f=d("MLegacyDataStore").get(e);if(a.getNode(j))y(e,new(c("URI"))(f.editCommentURI));else if(a.getNode(k))y(e,new(c("URI"))(f.editHistoryCommentURI));else if(a.getNode(l))y(e,new(c("URI"))(f.deleteCommentURI));else if(a.getNode(m))y(e,new(c("URI"))(f.deleteCommentAndBlockAuthorURI));else if(a.getNode(n))y(e,new(c("URI"))(f.deleteCommentAndRemoveAuthorURI));else if(a.getNode(s))y(e,new(c("URI"))(f.removeTagURI));else if(a.getNode(o))y(e,new(c("URI"))(f.hideCommentURI));else if(a.getNode(p))y(e,new(c("URI"))(f.groupMuteCommenterInfo.URI));else if(a.getNode(q)){var g=new(c("URI"))(f.reportCommentURI);f.reportIsModalDialog?z(e,g):y(e,g)}else a.getNode(i)&&(f.banUserFromPageURIParams&&c("Bootloader").loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(f.banUserFromPageURIParams.pageID,f.banUserFromPageURIParams.userID,f.banUserFromPageURIParams.userName,function(){t=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var D,E;function a(a){if(D)return;D=a;var b=a.getRoot();c("Stratcom").addSigil(b,r);E=[c("Stratcom").listen("m:page:unload",null,function(){while(E.length>0)E.pop().remove();D=null}),a.addListener("beforeshow",A,a),d("DOM").listen(b,"click",null,C)]}g.registerFlyout=a}),98);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f,g){function a(){return window.document&&window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(c("UserAgent").isBrowser("Firefox < 41")||c("UserAgent").isPlatform("iOS < 10.3"))||c("UserAgent").isBrowser("Chrome >= 43")}function h(a,b){b=b||document.body;if(!b)return!1;var d=document.activeElement,e=!0,f=document.createElement("textarea");b.appendChild(f);f.value=a;if(c("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(f);var g=window.getSelection();g.removeAllRanges();g.addRange(a);f.setSelectionRange(0,999999)}else f.select();try{e=document.execCommand("copy")}catch(a){e=!1}b.removeChild(f);d!=null&&d.focus();return e}function d(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return h(a)?b("Promise").resolve():b("Promise").reject()}g.isSupported=a;g.copy=h;g.copyAsync=d}),98);